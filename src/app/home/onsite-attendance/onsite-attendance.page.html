<!-- <ion-content [fullscreen]="true" class="onsite-content">

  <div class="header-banner">
    <div class="header-decor">
      <ion-icon name="paw" class="paw-1"></ion-icon>
      <ion-icon name="paw" class="paw-2"></ion-icon>
      <ion-icon name="leaf" class="leaf-1"></ion-icon>
    </div>

    <div class="header-nav-row">
      <div class="nav-left">
        <ion-button (click)="goBack()" class="back-btn" mode="md">
          <ion-icon name="arrow-back-outline"></ion-icon>
        </ion-button>
        <div class="title-group">
          <h1>{{ 'ONSITE.TITLE' | translate }}</h1>
          <p class="subtitle">{{ 'ONSITE.SUBTITLE' | translate }}</p>
        </div>
      </div>

      <div class="live-badge">
        <span>{{ 'ONSITE.LIVE_GPS' | translate }}</span>
      </div>
    </div>
  </div>

  <div class="main-container">
    <div class="form-card">

      <div class="photo-section">
        <div class="capture-box"
             (click)="presentImageSourceOptions()"
             [style.background-image]="capturedPhoto ? 'url(' + capturedPhoto + ')' : ''"
             style="background-size: cover; background-position: center;">

          <ng-container *ngIf="!capturedPhoto">
            <ion-icon name="camera-outline"></ion-icon>
            <div class="plus-badge">
              <ion-icon name="add"></ion-icon>
            </div>
          </ng-container>
        </div>

        <p class="capture-hint">
          {{ (capturedPhoto ? 'ONSITE.PHOTO_READY' : 'ONSITE.TAP_CAPTURE') | translate }}
        </p>
      </div>

      <div class="gps-tracker-bar" style="height: auto; padding: 10px;">
        <div class="gps-content">
          <div class="location-pulse">
            <div class="ping"></div>
          </div>
        </div>

        <div class="map-wrapper" style="margin-top: 10px; position: relative;">
          <capacitor-google-map
            #map
            style="display: block; width: 100%; height: 200px; border-radius: 15px; overflow: hidden; border: 1px solid #eee;">
          </capacitor-google-map>
        </div>
      </div>

      <div class="form-body">

        <div class="input-group">
          <label class="group-label">{{ 'ONSITE.LABEL_PROFILE' | translate }}</label>
          <div class="readonly-input">
            {{ rangerName }}
          </div>
        </div>

        <div class="input-group">
          <label class="group-label dark">{{ 'ONSITE.LABEL_GEOFENCE' | translate }}</label>
          <div class="readonly-input"
               style="font-size: 0.85rem; line-height: 1.2; min-height: 44px; display: flex; align-items: center;">
            {{ currentAddress }}
          </div>
        </div>

        <div class="input-group">
          <label class="group-label dark">{{ 'ONSITE.LABEL_TYPE' | translate }}</label>
          <div class="select-wrapper">
            <ion-select interface="action-sheet" [(ngModel)]="attendanceType" mode="md">
              <ion-select-option value="entry">{{ 'ONSITE.ENTRY' | translate }}</ion-select-option>
              <ion-select-option value="exit">{{ 'ONSITE.EXIT' | translate }}</ion-select-option>
            </ion-select>
            <ion-icon name="chevron-down-outline" class="select-arrow"></ion-icon>
          </div>
        </div>

      </div>

      <button class="mark-btn" (click)="submit()">
        <ion-icon name="checkmark-circle"></ion-icon>
        <span>{{ 'ONSITE.MARK_BTN' | translate }}</span>
      </button>

    </div>
  </div>

</ion-content> 

 -->


 <ion-content [fullscreen]="true" class="premium-wrapper">
  <div class="ambient-glow glow-1"></div>
  <div class="ambient-glow glow-2"></div>

  <div class="hero-header">
    <div class="header-overlay"></div>
    <div class="header-content">
      <div class="top-row">
        <div class="back-group">
          <button (click)="goBack()" class="glass-btn">
            <ion-icon name="arrow-back-outline"></ion-icon>
          </button>
          <div class="title-meta">
            <h1 class="main-title">My Beat Attendance</h1>
            <p class="subtitle">Forest Management System â€¢ 2026</p>
          </div>
        </div>
        
        <div class="live-badge-top">
          <div class="secure-id-badge">
            <ion-icon name="finger-print-outline"></ion-icon>
            <span>SECURE ID</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div class="card-container">
    <div class="main-card">
      
      <div class="scanner-section">
        <div class="camera-frame" (click)="presentImageSourceOptions()">
          <div class="corners-bold">
            <span class="t-l"></span><span class="t-r"></span>
            <span class="b-l"></span><span class="b-r"></span>
          </div>
          <div class="scanner-inner" [style.background-image]="capturedPhoto ? 'url(' + capturedPhoto + ')' : ''" style="background-size: cover; background-position: center;">
            <div class="scan-line" *ngIf="!capturedPhoto"></div>
            
            <div *ngIf="!capturedPhoto" class="placeholder-content">
              <ion-icon name="camera" class="main-cam-icon"></ion-icon>
              <span class="cam-text">CAPTURE PHOTO</span>
            </div>
          </div>
        </div>
        <p class="scan-hint">Scan identity to mark attendance</p>
      </div>

      <div class="map-wrapper">
        <div class="map-label">
          <ion-icon name="location"></ion-icon>
          <span>REAL-TIME POSITIONING</span>
        </div>
        <div class="map-container-box">
          <div #map id="onsite-map" style="width: 100%; height: 100%;"></div>
        </div>
      </div>

      <div class="form-body">
        <div class="input-group">
          <label>RANGER PROFILE</label>
          <div class="premium-input">
            <ion-icon name="person-circle-outline"></ion-icon>
            <span class="val">{{ rangerName }}</span>
          </div>
        </div>

        <div class="input-group">
          <label>CURRENT GEOFENCE (DETECTED)</label>
          <div class="premium-input address-mode">
            <ion-icon name="map-outline"></ion-icon>
            <span class="val">{{ currentAddress }}</span>
          </div>
        </div>

      </div>

      <div class="action-container">
        <div class="slider-track" [class.active-track]="isSubmitting">
          <div class="slider-text">
            {{ isSubmitting ? 'ATTENDANCE MARKED & SYNCED' : 'MARK ATTENDANCE' }}
          </div>
          <div class="slider-knob" (click)="submit()" [class.rotate-slide]="isSubmitting">
            <ion-icon [name]="isSubmitting ? 'sync-outline' : 'chevron-forward-outline'" 
                      [class.spin-icon]="isSubmitting">
            </ion-icon>
          </div>
        </div>
      </div>
      
    </div>
  </div>
</ion-content>
